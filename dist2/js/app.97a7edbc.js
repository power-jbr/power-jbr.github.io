(function(e){function t(t){for(var l,o,i=t[0],n=t[1],c=t[2],u=0,d=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l]);m&&m(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],l=!0,o=1;o<a.length;o++){var n=a[o];0!==s[n]&&(l=!1)}l&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var l={},s={app:0},r=[];function o(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"aac21973"}[e]+".js"}function i(t){if(l[t])return l[t].exports;var a=l[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a=s[e];if(0!==a)if(a)t.push(a[2]);else{var l=new Promise((function(t,l){a=s[e]=[t,l]}));t.push(a[2]=l);var r,n=document.createElement("script");n.charset="utf-8",n.timeout=120,i.nc&&n.setAttribute("nonce",i.nc),n.src=o(e);var c=new Error;r=function(t){n.onerror=n.onload=null,clearTimeout(u);var a=s[e];if(0!==a){if(a){var l=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+l+": "+r+")",c.name="ChunkLoadError",c.type=l,c.request=r,a[1](c)}s[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:n})}),12e4);n.onerror=n.onload=r,document.head.appendChild(n)}return Promise.all(t)},i.m=e,i.c=l,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)i.d(a,l,function(t){return e[t]}.bind(null,l));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=t,n=n.slice();for(var u=0;u<n.length;u++)t(n[u]);var m=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"09aa":function(e,t,a){},"235d":function(e,t,a){"use strict";var l=a("78de"),s=a.n(l);s.a},"272f":function(e,t,a){"use strict";var l=a("6f20"),s=a.n(l);s.a},"35a1":function(e,t,a){},"372a":function(e,t,a){},"3e31":function(e,t,a){"use strict";var l=a("4c6a"),s=a.n(l);s.a},"4c6a":function(e,t,a){},"4ec3":function(e,t,a){},5005:function(e,t,a){"use strict";var l=a("372a"),s=a.n(l);s.a},"56d7":function(e,t,a){"use strict";a.r(t);var l=a("a593"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],o={name:"app",data(){return{}},methods:{},components:{}},i=o,n=(a("5c0b"),a("9ca4")),c=Object(n["a"])(i,s,r,!1,null,null,null),u=c.exports,m=a("4fb5"),d=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"home"},[l("img",{attrs:{alt:"Vue logo",src:a("cf05")}}),l("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},p=[],h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._m(0),a("h3",[e._v("Installed CLI Plugins")]),e._m(1),a("h3",[e._v("Essential Links")]),e._m(2),a("h3",[e._v("Ecosystem")]),e._m(3)])},g=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v(" For a guide and recipes on how to configure / customize this project,"),a("br"),e._v(" check out the "),a("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(". ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router",target:"_blank",rel:"noopener"}},[e._v("router")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex",target:"_blank",rel:"noopener"}},[e._v("vuex")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),a("li",[a("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),a("li",[a("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),a("li",[a("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],f={name:"HelloWorld",props:{msg:String}},b=f,v=(a("272f"),Object(n["a"])(b,h,g,!1,null,"df2aa6b2",null)),y=v.exports,_={name:"Home",components:{HelloWorld:y}},w=_,x=Object(n["a"])(w,d,p,!1,null,null,null),k=(x.exports,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.islod,expression:"$store.state.islod"}],staticClass:"load"},[a("img",{attrs:{src:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1744558263,856016303&fm=26&gp=0.jpg",alt:""}})]),a("div",{staticClass:"login_dl"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"val"}},[a("el-input",{attrs:{type:"text","prefix-icon":"el-icon-user",placeholder:"请输入用户名"},model:{value:e.ruleForm.val,callback:function(t){e.$set(e.ruleForm,"val",t)},expression:"ruleForm.val"}})],1)],1),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[a("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"请输入用户名"},model:{value:e.ruleForm.pwd,callback:function(t){e.$set(e.ruleForm,"pwd",t)},expression:"ruleForm.pwd"}})],1)],1),a("button",{staticClass:"dl",attrs:{title:"有功能哦"},on:{click:function(t){return e.dl()}}},[e._v("登录")]),a("button",{staticClass:"cz",attrs:{title:"有功能哦"},on:{click:function(t){return e.cz()}}},[e._v("重置")])],1),e._m(0)])}),F=[function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"img_vue"},[l("img",{attrs:{src:a("cf05"),alt:""}})])}],S=a("5976"),C=a.n(S),$={name:"login",data(){return{val:"",pwd:"",rules:{val:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}]},ruleForm:{val:"",pwd:""}}},created(){},mounted(){this.ruleForm.val="",this.ruleForm.pwd=""},methods:{dl(){this.$http.post("login",{username:this.ruleForm.val,password:this.ruleForm.pwd}).then(e=>{if(console.log(e),console.log(e.data),console.log(e.data.meta),""==this.ruleForm.val||""==this.ruleForm.pwd)return alert("请输入用户名或者密码"),!1;"登录成功"==e.data.meta.msg?(this.$message({message:e.data.meta.msg,duration:2e3,type:"success"}),window.sessionStorage.setItem("token",e.data.data.token),this.$router.push("/list/welcome")):this.$message({message:e.data.meta.msg,duration:2e3,type:"error"})})},onSubmit(){},cz(){this.ruleForm.val="",this.ruleForm.pwd=""}}},j=$,I=(a("996b"),Object(n["a"])(j,k,F,!1,null,"7903d148",null)),z=I.exports,q=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"list"},[l("p",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.islod,expression:"$store.state.islod"}],staticClass:"load"},[l("img",{attrs:{src:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1744558263,856016303&fm=26&gp=0.jpg",alt:""}})]),l("el-container",[l("el-header",{staticClass:"head"},[l("img",{attrs:{src:a("e48b"),alt:""}}),l("p",[e._v("电商后台管理系统")]),l("el-button",{attrs:{type:"info"},on:{click:function(t){return e.tc()}}},[e._v("退出")])],1),l("el-container",[l("el-aside",{attrs:{width:e.isCollapse?"64px":"203px",translate:(e.isCollapse,"10s"),collapse:e.isCollapse}},[l("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"collapse-transition":!1,"unique-opened":"","text-color":"#fff","background-color":"#333744",collapse:e.isCollapse,router:"","default-active":e.activePath},on:{open:e.handleOpen,close:e.handleClose}},[l("div",{staticClass:"top-bar",attrs:{collapse:e.isCollapse},on:{click:function(t){e.isCollapse=!e.isCollapse}}},[e._v("|||")]),e._l(e.leftList,(function(t,a){return l("el-submenu",{key:a,attrs:{index:e.cid[a]}},[l("template",{slot:"title"},[l("i",{class:e.icon[t.id],staticStyle:{fontSize:"15px"}}),l("span",{staticStyle:{"margin-right":"100px",fontSize:"13px"}},[e._v(e._s(t.authName))])]),l("el-menu-item-group",{staticStyle:{padding:"0px 0px"}},e._l(t.children,(function(a,s){return l("el-menu-item",{key:s,attrs:{index:"/list/"+a.path},on:{click:function(l){return e.yh(t.authName,a.authName,a.path)}}},[l("i",{staticClass:"el-icon-menu"}),l("span",{staticStyle:{fontSize:"13px"}},[e._v(e._s(a.authName))])])})),1)],2)}))],2)],1),l("el-main",[null==e.activePath|""==e.activePath?l("el-breadcrumb",[l("el-breadcrumb-item",[e._v("首页")])],1):"/list/addgoods"==e.activePath?l("el-breadcrumb",[l("el-breadcrumb-item",{attrs:{to:{path:"/list/welcome"}}},[e._v("首页")]),l("el-breadcrumb-item",[e._v(e._s(e.uname))]),l("el-breadcrumb-item",[e._v("添加商品")])],1):l("el-breadcrumb",[l("el-breadcrumb-item",{attrs:{to:{path:"/list/welcome"}}},[e._v("首页")]),l("el-breadcrumb-item",[e._v(e._s(e.uname))]),l("el-breadcrumb-item",[e._v(e._s(e.name))])],1),l("router-view")],1)],1)],1)],1)},O=[],E=(a("a336"),{name:"list",data(){return{uname:sessionStorage.getItem("uname"),name:sessionStorage.getItem("name"),flag:!0,isCollapse:!1,leftList:[],activePath:"",icon:{125:"el-icon-user",103:"el-icon-takeaway-box",101:"el-icon-shopping-bag-1",102:"el-icon-tickets",145:"el-icon-s-platform"},cid:{0:"1",1:"2",2:"3",3:"4",4:"5"}}},created(){let e=window.sessionStorage.getItem("activepath");this.activePath=e},mounted(){this.left()},methods:{tc(){this.$confirm("您确定要退出登录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message({type:"success",duration:2e3,message:"退出成功!"}),this.$router.push("/login"),window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("uname"),window.sessionStorage.removeItem("name"),window.sessionStorage.removeItem("activepath")}).catch(()=>{this.$message({type:"info",duration:2e3,message:"已取消退出"})})},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)},yh(e,t,a){window.sessionStorage.setItem("activepath","/list/"+a),this.activePath="/list/"+a,window.sessionStorage.setItem("uname",e),window.sessionStorage.setItem("name",t),this.uname=sessionStorage.getItem("uname"),this.name=sessionStorage.getItem("name")},left(){this.$http.get("menus").then(e=>{this.leftList=e.data.data})}},watch:{$route(e,t){"/list/welcome"==e.path?this.activePath="":this.activePath=e.path,console.log(e,t),window.sessionStorage.setItem("activepath",this.activePath),this.activePath=e.path}}}),P=E,L=(a("5005"),Object(n["a"])(P,q,O,!1,null,"622df003",null)),N=L.exports,D=(a("cdca"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),T=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Welcome!")])])}],B={data(){return{}},created(){},mounted(){},methods:{}},V=B,A=(a("3e31"),Object(n["a"])(V,D,T,!1,null,null,null)),R=A.exports,M=(a("df51"),a("5e80"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"div"},[a("el-input",{staticClass:"btn",attrs:{placeholder:"请输入内容",clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),a("el-button",{staticClass:"but",attrs:{icon:"el-icon-search"},on:{click:function(t){return e.search()}}}),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加商品")])],1),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",label:"#",width:"50"}}),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"520"}}),a("el-table-column",{attrs:{prop:"goods_price",label:"商品价格(元)",width:"100"}}),a("el-table-column",{attrs:{prop:"goods_number",label:"商品数量",width:"100"}}),a("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量",width:"100"}}),a("el-table-column",{attrs:{prop:"add_time",label:"创建时间",width:"200"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"b",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.bj(t.row)}}}),a("el-button",{staticClass:"b",attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.del(t.row)}}})]}}])})],1)],a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.pagenum,"page-sizes":[5,10,15,20],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"编辑商品",visible:e.xg},on:{"update:visible":function(t){e.xg=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"ID",prop:"id"}},[a("el-input",{staticClass:"b",attrs:{disabled:"",autocomplete:"off"},model:{value:e.ruleForm.id,callback:function(t){e.$set(e.ruleForm,"id",t)},expression:"ruleForm.id"}})],1),a("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[a("el-input",{staticClass:"b",attrs:{autocomplete:"off"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"商品价格",prop:"price"}},[a("el-input",{staticClass:"b",attrs:{autocomplete:"off"},model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1),a("el-form-item",{attrs:{label:"商品数量",prop:"num"}},[a("el-input",{staticClass:"b",attrs:{autocomplete:"off"},model:{value:e.ruleForm.num,callback:function(t){e.$set(e.ruleForm,"num",t)},expression:"ruleForm.num"}})],1),a("el-form-item",{attrs:{label:"商品重量",prop:"weight"}},[a("el-input",{staticClass:"b",attrs:{autocomplete:"off"},model:{value:e.ruleForm.weight,callback:function(t){e.$set(e.ruleForm,"weight",t)},expression:"ruleForm.weight"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.xg=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.edit()}}},[e._v("确 定")])],1)],1)],2)],1)}),W=[],H={data(){return{tableData:[],newtable:[],pagenum:1,pagesize:10,input:"",total:0,xsearch:!1,xg:!1,ruleForm:{id:"",name:"",price:"",num:"",weight:""},rules:{id:[{required:!0,message:"请输入id",trigger:["blur","change"]}],name:[{required:!0,message:"请输入商品名称",trigger:["blur","change"]}],price:[{required:!0,message:"请输入商品价格",trigger:["blur","change"]}],num:[{required:!0,message:"请输入商品数量",trigger:["blur","change"]}],weight:[{required:!0,message:"请输入商品重量",trigger:["blur","change"]}]}}},created(){},watch:{input(e){""==e&&(this.xsearch=!1,this.table()),console.log(e)}},mounted(){this.table()},methods:{async table(){let e="";this.xsearch?(e=await this.$http.get(`goods/?query=${this.input}&pagenum=${this.pagenum}&pagesize=${this.pagesize}`),console.log(e)):(e=await this.$http.get(`goods/?pagenum=${this.pagenum}&pagesize=${this.pagesize}`),console.log(e)),console.log(e.data.data.goods),this.tableData=e.data.data.goods,this.total=e.data.data.total,this.tableData.forEach((e,t)=>{e.add_time=new Date(e.add_time).toLocaleString()})},handleSizeChange(e){console.log(`每页 ${e} 条`),e=this.pagesize=e,this.table()},handleCurrentChange(e){console.log("当前页: "+e),e=this.pagenum=e,this.table()},search(){this.xsearch=!0,this.table()},add(){this.$router.push({path:"/list/addgoods"})},del(e){console.log(e),console.log(e.goods_id),this.$http.delete("goods/"+e.goods_id).then(e=>{console.log(e),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message({type:"success",message:"删除成功!"}),this.table()}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})})},bj(e){this.xg=!0,this.newtable=e,console.log(this.newtable),this.ruleForm.id=this.newtable.goods_id,this.ruleForm.name=this.newtable.goods_name,this.ruleForm.price=this.newtable.goods_price,this.ruleForm.num=this.newtable.goods_number,this.ruleForm.weight=this.newtable.goods_weight},async edit(){let{data:e}=await this.$http.put("goods/"+this.newtable.goods_id,{goods_name:this.newtable.goods_name,goods_price:this.newtable.goods_price,goods_number:this.newtable.goods_number,goods_weight:this.newtable.goods_weight});console.log(e)}}},G=H,K=(a("a92e"),Object(n["a"])(G,M,W,!1,null,"f1dd60c4",null)),U=K.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"注意：只允许为第三级分类设置相关参数！",type:"warning",effect:"dark","show-icon":""}}),a("el-form",{ref:"addFormRef",attrs:{model:e.addForm,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"请选择商品分类："}},[a("el-cascader",{attrs:{options:e.shopList,"expand-trigger":"hover",props:e.fllist},on:{change:e.handleChange},model:{value:e.fl,callback:function(t){e.fl=t},expression:"fl"}})],1)],1),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"动态参数",name:"many"}},[a("el-button",{attrs:{disabled:e.isbtn,type:"primary"},on:{click:function(t){e.omqh=!0}}},[e._v("添加参数")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.many,border:""}},[a("el-table-column",{attrs:{type:"expand",label:" ",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.attr_vals,(function(l,s){return a("el-tag",{key:s,staticClass:"tag",attrs:{closable:""},on:{close:function(a){return e.delclose(l,t.row)}}},[e._v(" "+e._s(l)+" ")])})),t.row.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(a){return e.handleInputConfirm(t.row)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleInputConfirm(t.row)}},model:{value:t.row.inputValue,callback:function(a){e.$set(t.row,"inputValue",a)},expression:"scope.row.inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(a){return e.showInput(t.row)}}},[e._v("+ New Tag")])]}}])}),a("el-table-column",{attrs:{type:"index",label:"#",width:"80"}}),a("el-table-column",{attrs:{prop:"attr_name",label:"参数名称",width:"630"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"but",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.gai(t.row)}}},[e._v("修改")]),a("el-button",{staticClass:"but",attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"静态属性",name:"only"}},[a("el-button",{attrs:{disabled:e.isbtn,type:"primary"},on:{click:function(t){e.omqh=!0}}},[e._v("添加属性")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.only,border:""}},[a("el-table-column",{attrs:{type:"expand",label:" ",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.attr_vals,(function(l,s){return a("el-tag",{key:s,staticClass:"tag",attrs:{closable:""},on:{close:function(a){return e.delclose(l,t.row)}}},[e._v(" "+e._s(l)+" ")])})),t.row.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(a){return e.handleInputConfirm(t.row)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleInputConfirm(t.row)}},model:{value:t.row.inputValue,callback:function(a){e.$set(t.row,"inputValue",a)},expression:"scope.row.inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(a){return e.showInput(t.row)}}},[e._v("+ New Tag")])]}}])}),a("el-table-column",{attrs:{type:"index",label:"#",width:"80"}}),a("el-table-column",{attrs:{prop:"attr_name",label:"属性名称",width:"630"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"but",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.gai(t.row)}}},[e._v("修改")]),a("el-button",{staticClass:"but",attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")])]}}])})],1)],1)],1),a("el-dialog",{attrs:{title:"添加"+e.Text,visible:e.omqh},on:{"update:visible":function(t){e.omqh=t},close:e.addclose}},[a("el-form",{ref:"addFormref",staticClass:"demo-ruleForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:e.Text,prop:"name"}},[a("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.omqh=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改"+e.Text,visible:e.xg},on:{"update:visible":function(t){e.xg=t}}},[a("el-form",{ref:"addFormr",staticClass:"demo-ruleForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:e.Text,prop:"attr_name"}},[a("el-input",{model:{value:e.addForm.attr_name,callback:function(t){e.$set(e.addForm,"attr_name",t)},expression:"addForm.attr_name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.xg=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.edit()}}},[e._v("确 定")])],1)],1)],1)],1)},Y=[],Q={data(){return{only:[],many:[],omqh:!1,xg:!1,activeName:"many",addForm:{name:"",attr_name:""},rules:{name:[{required:!0,message:"参数名称不能为空",trigger:["blur","change"]}],attr_name:[{required:!0,message:"参数名称不能为空",trigger:["blur","change"]}]},fl:[],shopList:[],editlist:[],fllist:{label:"cat_name",value:"cat_id",children:"children"}}},created(){},mounted(){this.list(),this.getparamsData()},methods:{async list(){let{data:e}=await this.$http.get("categories");console.log(e),this.shopList=e.data},handleChange(){this.getparamsData()},handleClick(e,t){this.getparamsData()},async getparamsData(){if(3!==this.fl.length)return void(this.fl=[]);console.log(this.fl);let{data:e}=await this.$http.get(`categories/${this.fl[2]}/attributes/`,{params:{sel:this.activeName}});console.log(e),e.data.forEach((e,t)=>{e.attr_vals=e.attr_vals?e.attr_vals.split(","):[],e.inputVisible=!1,e.inputValue=""}),"only"===this.activeName?this.only=e.data:this.many=e.data},gai(e){this.xg=!0,this.editlist=e,console.log(this.editlist),this.addForm.attr_name=this.editlist.attr_name},async edit(){let{data:e}=await this.$http.put(`categories/${this.isflId}/attributes/${this.editlist.attr_id}`,{attr_name:this.addForm.attr_name,attr_sel:this.activeName});console.log(e),this.$message({type:"success",duration:2e3,message:"修改参数成功"}),this.getparamsData(),this.xg=!1},async del(e){console.log(e.attr_id);let{data:t}=await this.$http.delete(`categories/${this.isflId}/attributes/${e.attr_id}`);console.log(t),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message({type:"success",message:"删除成功!"}),this.getparamsData()}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},add(){this.$refs.addFormref.validate(async e=>{if(!e)return;let{data:t}=await this.$http.post(`categories/${this.isflId}/attributes`,{attr_name:this.addForm.name,attr_sel:this.activeName});console.log(t),this.$message({type:"success",duration:2e3,message:"添加参数成功"}),this.list(),this.getparamsData(),this.omqh=!1})},addclose(){this.$refs.addFormref.resetFields()},showInput(e){console.log(e.inputVisible=!0),e.inputVisible=!0,this.$nextTick(e=>{this.$refs.saveTagInput.$refs.input.focus()})},async handleInputConfirm(e){if(0===e.inputValue.trim().length)return this.inputValue="",void(e.inputVisible=!1);e.attr_vals.push(e.inputValue.trim()),e.inputValue="",e.inputVisible=!1,this.saveAttr(e)},async saveAttr(e){let{data:t}=await this.$http.put(`categories/${this.isflId}/attributes/${e.attr_id}`,{attr_name:e.attr_name,attr_sel:e.attr_sel,attr_vals:e.attr_vals.join(",")});console.log(t),this.$message({type:"success",duration:2e3,message:"更新参数成功"})},delclose(e,t){t.attr_vals.splice(e,1),this.saveAttr(t)}},computed:{isbtn(){return 3!==this.fl.length},Text(){return"many"===this.activeName?"动态参数":"静态属性"},isflId(){return 3===this.fl.length?this.fl[2]:null}}},X=Q,Z=(a("235d"),Object(n["a"])(X,J,Y,!1,null,"75ddec36",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("el-button",{staticClass:"b",attrs:{type:"primary"},on:{click:function(t){return e.tj()}}},[e._v("添加分类")]),a("tree-table",{attrs:{data:e.catelist,columns:e.columns,"selection-type":!1,"show-index":"","index-text":"#","expand-type":!1,border:"","show-row-hover":!1},scopedSlots:e._u([{key:"isok",fn:function(e){return[!1===e.row.cat_deleted?a("i",{staticClass:"el-icon-success",staticStyle:{color:"#39CE39"}}):a("i",{staticClass:"el-icon-error",staticStyle:{color:"#39CE39"}})]}},{key:"px",fn:function(t){return[a("el-tag",{directives:[{name:"show",rawName:"v-show",value:0==t.row.cat_level,expression:"scope.row.cat_level==0"}],attrs:{effect:"dark",size:"mini"}},[e._v(" 一级 ")]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:1==t.row.cat_level,expression:"scope.row.cat_level==1"}],attrs:{type:"success",effect:"dark",size:"mini"}},[e._v(" 二级 ")]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:2==t.row.cat_level,expression:"scope.row.cat_level==2"}],attrs:{type:"warning",effect:"dark",size:"mini"}},[e._v(" 三级 ")])]}},{key:"cz",fn:function(t){return[a("el-button",{staticClass:"but",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.gai(t.row)}}},[e._v("编辑")]),a("el-button",{staticClass:"but",attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")])]}}])}),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[5,10,15,20],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"添加商品分类",visible:e.tjfl},on:{"update:visible":function(t){e.tjfl=t},close:e.catechange}},[a("el-form",{ref:"addformref",staticClass:"demo-ruleForm",attrs:{model:e.addform,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"cat_name"}},[a("el-input",{model:{value:e.addform.cat_name,callback:function(t){e.$set(e.addform,"cat_name",t)},expression:"addform.cat_name"}})],1),a("el-form-item",{attrs:{label:"商品分类"}},[a("el-cascader",{attrs:{clearable:"","change-on-select":"",options:e.xcatelist,"expand-trigger":"herver",props:e.fllist},on:{change:e.handleChange},model:{value:e.fl,callback:function(t){e.fl=t},expression:"fl"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.tjfl=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑商品分类",visible:e.xg},on:{"update:visible":function(t){e.xg=t}}},[a("el-form",{ref:"addformr",staticClass:"demo-ruleForm",attrs:{model:e.addform,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[a("el-input",{model:{value:e.addform.name,callback:function(t){e.$set(e.addform,"name",t)},expression:"addform.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.xg=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.edit()}}},[e._v("确 定")])],1)],1)],1)],1)},ae=[],le={data(){return{tjfl:!1,xg:!1,addform:{cat_name:"",name:"",cat_pid:0,cat_level:0},fl:[],rules:{cat_name:[{required:!0,message:"分类名称不能为空",trigger:["blur","change"]}],name:[{required:!0,message:"分类名称不能为空",trigger:["blur","change"]}]},queryInfo:{type:3,pagenum:1,pagesize:5},Info:{type:2,pagenum:1,pagesize:5},catelist:[],xcatelist:[],flname:[],fllist:{value:"cat_id",label:"cat_name",checkStrictly:!0,children:"children"},total:0,columns:[{label:"分类名称",prop:"cat_name"},{label:"是否有效",type:"template",template:"isok"},{label:"排序",type:"template",template:"px"},{label:"操作",type:"template",template:"cz"}]}},created(){},mounted(){this.cateList(),this.newcateList()},methods:{handleSizeChange(e){console.log(`每页 ${e} 条`),e=this.queryInfo.pagesize=e,this.cateList()},handleCurrentChange(e){console.log("当前页: "+e),e=this.queryInfo.pagenum=e,this.cateList()},async cateList(){let{data:e}=await this.$http.get("categories",{params:this.queryInfo});console.log(e),this.catelist=e.data.result,this.total=e.data.total},tj(){this.newcateList(),this.tjfl=!0},async newcateList(){let{data:e}=await this.$http.get("categories",{params:{type:2}});console.log(e),this.xcatelist=e.data,console.log(this.xcatelist)},add(){this.$refs.addformref.validate(async e=>{let{data:t}=await this.$http.post("categories",this.addform);console.log(t),this.$message({type:"success",duration:2e3,message:"添加商品分类成功!"}),this.cateList(),this.tjfl=!1})},handleChange(){if(console.log(this.fl),this.fl.length>0)return this.addform.cat_pid=this.fl[this.fl.length-1],void(this.addform.cat_level=this.fl.length);this.addform.cat_pid=0,this.addform.cat_level=0},catechange(){this.$refs.addformref.resetFields(),this.fl=[],this.addform.cat_level=0,this.addform.cat_pid=0},async del(e){let{data:t}=await this.$http.delete("categories/"+e.cat_id);console.log(t),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message({type:"success",message:"删除成功!"}),this.catelist.splice(e.cat_id,1),this.cateList()}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},gai(e){this.xg=!0,console.log(e),this.flname=e,this.addform.name=this.flname.cat_name},async edit(){let{data:e}=await this.$http.put("categories/"+this.flname.cat_id,{cat_name:this.addform.name});console.log(e),this.$message({type:"success",duration:2e3,message:"更新商品分类成功"})}}},se=le,re=(a("e7d6"),Object(n["a"])(se,te,ae,!1,null,"41c16eba",null)),oe=re.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{style:{width:"750px",height:"500px"},attrs:{id:"myChart"}}),a("div",{staticClass:"demo-1"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item_content content-lar",staticStyle:{height:"100px"}},[e._v(" 1")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item_content content-sma",staticStyle:{height:"150px"}},[e._v(" 2")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item_content content-mid",staticStyle:{height:"50px"}},[e._v(" 3")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item_content content-sma",staticStyle:{height:"200px"}},[e._v(" 4")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item_content content-mid",staticStyle:{height:"60px"}},[e._v(" 5 ")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item_content content-lar",staticStyle:{height:"90px"}},[e._v(" 6")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item_content content-sma"},[e._v(" 7")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item_content content-lar",staticStyle:{height:"120px"}},[e._v(" 8")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item_content content-lar"},[e._v(" 9")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item_content content-sma",staticStyle:{height:"100px"}},[e._v(" 10 ")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item_content content-mid"},[e._v(" 11 ")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item_content content-mid",staticStyle:{height:"100px"}},[e._v(" 12")])])])])],1)},ne=[],ce=a("4d28"),ue=a.n(ce),me={data(){return{x:localStorage.getItem("x")||"",y:localStorage.getItem("y")||""}},created(){},mounted(){ue.a.init(document.getElementById("myChart"));var e=this.drawLine();window.onresize=function(){e.resize()}},methods:{drawLine(){let e=ue.a.init(document.getElementById("myChart"));var t=[{name:"Flora",itemStyle:{color:"#da0d68"},children:[{name:"Black Tea",value:1,itemStyle:{color:"#975e6d"}},{name:"Floral",itemStyle:{color:"#e0719c"},children:[{name:"Chamomile",value:1,itemStyle:{color:"#f99e1c"}},{name:"Rose",value:1,itemStyle:{color:"#ef5a78"}},{name:"Jasmine",value:1,itemStyle:{color:"#f7f1bd"}}]}]},{name:"Fruity",itemStyle:{color:"#da1d23"},children:[{name:"Berry",itemStyle:{color:"#dd4c51"},children:[{name:"Blackberry",value:1,itemStyle:{color:"#3e0317"}},{name:"Raspberry",value:1,itemStyle:{color:"#e62969"}},{name:"Blueberry",value:1,itemStyle:{color:"#6569b0"}},{name:"Strawberry",value:1,itemStyle:{color:"#ef2d36"}}]},{name:"Dried Fruit",itemStyle:{color:"#c94a44"},children:[{name:"Raisin",value:1,itemStyle:{color:"#b53b54"}},{name:"Prune",value:1,itemStyle:{color:"#a5446f"}}]},{name:"Other Fruit",itemStyle:{color:"#dd4c51"},children:[{name:"Coconut",value:1,itemStyle:{color:"#f2684b"}},{name:"Cherry",value:1,itemStyle:{color:"#e73451"}},{name:"Pomegranate",value:1,itemStyle:{color:"#e65656"}},{name:"Pineapple",value:1,itemStyle:{color:"#f89a1c"}},{name:"Grape",value:1,itemStyle:{color:"#aeb92c"}},{name:"Apple",value:1,itemStyle:{color:"#4eb849"}},{name:"Peach",value:1,itemStyle:{color:"#f68a5c"}},{name:"Pear",value:1,itemStyle:{color:"#baa635"}}]},{name:"Citrus Fruit",itemStyle:{color:"#f7a128"},children:[{name:"Grapefruit",value:1,itemStyle:{color:"#f26355"}},{name:"Orange",value:1,itemStyle:{color:"#e2631e"}},{name:"Lemon",value:1,itemStyle:{color:"#fde404"}},{name:"Lime",value:1,itemStyle:{color:"#7eb138"}}]}]},{name:"Sour/\nFermented",itemStyle:{color:"#ebb40f"},children:[{name:"Sour",itemStyle:{color:"#e1c315"},children:[{name:"Sour Aromatics",value:1,itemStyle:{color:"#9ea718"}},{name:"Acetic Acid",value:1,itemStyle:{color:"#94a76f"}},{name:"Butyric Acid",value:1,itemStyle:{color:"#d0b24f"}},{name:"Isovaleric Acid",value:1,itemStyle:{color:"#8eb646"}},{name:"Citric Acid",value:1,itemStyle:{color:"#faef07"}},{name:"Malic Acid",value:1,itemStyle:{color:"#c1ba07"}}]},{name:"Alcohol/\nFremented",itemStyle:{color:"#b09733"},children:[{name:"Winey",value:1,itemStyle:{color:"#8f1c53"}},{name:"Whiskey",value:1,itemStyle:{color:"#b34039"}},{name:"Fremented",value:1,itemStyle:{color:"#ba9232"}},{name:"Overripe",value:1,itemStyle:{color:"#8b6439"}}]}]},{name:"Green/\nVegetative",itemStyle:{color:"#187a2f"},children:[{name:"Olive Oil",value:1,itemStyle:{color:"#a2b029"}},{name:"Raw",value:1,itemStyle:{color:"#718933"}},{name:"Green/\nVegetative",itemStyle:{color:"#3aa255"},children:[{name:"Under-ripe",value:1,itemStyle:{color:"#a2bb2b"}},{name:"Peapod",value:1,itemStyle:{color:"#62aa3c"}},{name:"Fresh",value:1,itemStyle:{color:"#03a653"}},{name:"Dark Green",value:1,itemStyle:{color:"#038549"}},{name:"Vegetative",value:1,itemStyle:{color:"#28b44b"}},{name:"Hay-like",value:1,itemStyle:{color:"#a3a830"}},{name:"Herb-like",value:1,itemStyle:{color:"#7ac141"}}]},{name:"Beany",value:1,itemStyle:{color:"#5e9a80"}}]},{name:"Other",itemStyle:{color:"#0aa3b5"},children:[{name:"Papery/Musty",itemStyle:{color:"#9db2b7"},children:[{name:"Stale",value:1,itemStyle:{color:"#8b8c90"}},{name:"Cardboard",value:1,itemStyle:{color:"#beb276"}},{name:"Papery",value:1,itemStyle:{color:"#fefef4"}},{name:"Woody",value:1,itemStyle:{color:"#744e03"}},{name:"Moldy/Damp",value:1,itemStyle:{color:"#a3a36f"}},{name:"Musty/Dusty",value:1,itemStyle:{color:"#c9b583"}},{name:"Musty/Earthy",value:1,itemStyle:{color:"#978847"}},{name:"Animalic",value:1,itemStyle:{color:"#9d977f"}},{name:"Meaty Brothy",value:1,itemStyle:{color:"#cc7b6a"}},{name:"Phenolic",value:1,itemStyle:{color:"#db646a"}}]},{name:"Chemical",itemStyle:{color:"#76c0cb"},children:[{name:"Bitter",value:1,itemStyle:{color:"#80a89d"}},{name:"Salty",value:1,itemStyle:{color:"#def2fd"}},{name:"Medicinal",value:1,itemStyle:{color:"#7a9bae"}},{name:"Petroleum",value:1,itemStyle:{color:"#039fb8"}},{name:"Skunky",value:1,itemStyle:{color:"#5e777b"}},{name:"Rubber",value:1,itemStyle:{color:"#120c0c"}}]}]},{name:"Roasted",itemStyle:{color:"#c94930"},children:[{name:"Pipe Tobacco",value:1,itemStyle:{color:"#caa465"}},{name:"Tobacco",value:1,itemStyle:{color:"#dfbd7e"}},{name:"Burnt",itemStyle:{color:"#be8663"},children:[{name:"Acrid",value:1,itemStyle:{color:"#b9a449"}},{name:"Ashy",value:1,itemStyle:{color:"#899893"}},{name:"Smoky",value:1,itemStyle:{color:"#a1743b"}},{name:"Brown, Roast",value:1,itemStyle:{color:"#894810"}}]},{name:"Cereal",itemStyle:{color:"#ddaf61"},children:[{name:"Grain",value:1,itemStyle:{color:"#b7906f"}},{name:"Malt",value:1,itemStyle:{color:"#eb9d5f"}}]}]},{name:"Spices",itemStyle:{color:"#ad213e"},children:[{name:"Pungent",value:1,itemStyle:{color:"#794752"}},{name:"Pepper",value:1,itemStyle:{color:"#cc3d41"}},{name:"Brown Spice",itemStyle:{color:"#b14d57"},children:[{name:"Anise",value:1,itemStyle:{color:"#c78936"}},{name:"Nutmeg",value:1,itemStyle:{color:"#8c292c"}},{name:"Cinnamon",value:1,itemStyle:{color:"#e5762e"}},{name:"Clove",value:1,itemStyle:{color:"#a16c5a"}}]}]},{name:"Nutty/\nCocoa",itemStyle:{color:"#a87b64"},children:[{name:"Nutty",itemStyle:{color:"#c78869"},children:[{name:"Peanuts",value:1,itemStyle:{color:"#d4ad12"}},{name:"Hazelnut",value:1,itemStyle:{color:"#9d5433"}},{name:"Almond",value:1,itemStyle:{color:"#c89f83"}}]},{name:"Cocoa",itemStyle:{color:"#bb764c"},children:[{name:"Chocolate",value:1,itemStyle:{color:"#692a19"}},{name:"Dark Chocolate",value:1,itemStyle:{color:"#470604"}}]}]},{name:"Sweet",itemStyle:{color:"#e65832"},children:[{name:"Brown Sugar",itemStyle:{color:"#d45a59"},children:[{name:"Molasses",value:1,itemStyle:{color:"#310d0f"}},{name:"Maple Syrup",value:1,itemStyle:{color:"#ae341f"}},{name:"Caramelized",value:1,itemStyle:{color:"#d78823"}},{name:"Honey",value:1,itemStyle:{color:"#da5c1f"}}]},{name:"Vanilla",value:1,itemStyle:{color:"#f89a80"}},{name:"Vanillin",value:1,itemStyle:{color:"#f37674"}},{name:"Overall Sweet",value:1,itemStyle:{color:"#e75b68"}},{name:"Sweet Aromatics",value:1,itemStyle:{color:"#d0545f"}}]}];return e.setOption({title:{textStyle:{fontSize:14,align:"center"},subtextStyle:{align:"center"},sublink:"https://worldcoffeeresearch.org/work/sensory-lexicon/"},series:{type:"sunburst",highlightPolicy:"ancestor",data:t,radius:[0,"95%"],sort:null,levels:[{},{r0:"15%",r:"35%",itemStyle:{borderWidth:2},label:{rotate:"tangential"}},{r0:"35%",r:"70%",label:{align:"right"}},{r0:"70%",r:"72%",label:{position:"outside",padding:3,silent:!1},itemStyle:{borderWidth:3}}]}}),e}},computed:{}},de=me,pe=(a("fe7d"),Object(n["a"])(de,ie,ne,!1,null,"2d67040c",null)),he=pe.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{style:{width:"800px",height:"400px"},attrs:{id:"myChart"}})])],1)},fe=[],be={data(){return{}},created(){},mounted(){ue.a.init(document.getElementById("myChart"));var e=this.drawLine();window.onresize=function(){e.resize()}},methods:{drawLine(){let e=ue.a.init(document.getElementById("myChart"));return e.setOption({title:{text:"用户来源"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["华东","华南","华北","西部","其他"]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]}],yAxis:[{type:"value"}],series:[{name:"华东",type:"line",stack:"总量",areaStyle:{},data:[2999,3111,4100,3565,3528,6e3,6528]},{name:"华南",type:"line",stack:"总量",areaStyle:{},data:[5090,2500,3400,6e3,6400,7800,7e3]},{name:"华北",type:"line",stack:"总量",areaStyle:{},data:[6888,4e3,8010,12222,13548,12584,12500]},{name:"西部",type:"line",stack:"总量",areaStyle:{},data:[9991,4130,7777,12603,12898,13928,13320]},{name:"其他",type:"line",stack:"总量",label:{normal:{show:!0,position:"top"}},areaStyle:{},data:[15212,5800,10241,14521,15782,13891,14965]}]}),e}}},ve=be,ye=(a("f312"),Object(n["a"])(ve,ge,fe,!1,null,"effea324",null)),_e=ye.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"添加商品信息",type:"info",center:"","show-icon":""}}),a("el-steps",{attrs:{active:e.activeIndex-0,"finish-status":"success",space:200,"align-center":""}},[a("el-step",{attrs:{title:"基本信息"}}),a("el-step",{attrs:{title:"商品参数"}}),a("el-step",{attrs:{title:"商品属性"}}),a("el-step",{attrs:{title:"商品图片"}}),a("el-step",{attrs:{title:"商品内容"}}),a("el-step",{attrs:{title:"完成"}})],1),a("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addFormrules,"label-width":"100px","label-position":"top"}},[a("el-tabs",{staticClass:"tabs",attrs:{"tab-position":"left","before-leave":e.beforeTab},on:{"tab-click":e.tabClicked},model:{value:e.activeIndex,callback:function(t){e.activeIndex=t},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[a("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"商品价格",type:"number",prop:"price"}},[a("el-input",{model:{value:e.addForm.price,callback:function(t){e.$set(e.addForm,"price",t)},expression:"addForm.price"}})],1),a("el-form-item",{attrs:{label:"商品重量",type:"number",prop:"weight"}},[a("el-input",{model:{value:e.addForm.weight,callback:function(t){e.$set(e.addForm,"weight",t)},expression:"addForm.weight"}})],1),a("el-form-item",{attrs:{label:"商品数量",type:"number",prop:"num"}},[a("el-input",{model:{value:e.addForm.num,callback:function(t){e.$set(e.addForm,"num",t)},expression:"addForm.num"}})],1),a("el-form-item",{attrs:{label:"商品分类",prop:"fl"}},[a("el-cascader",{attrs:{options:e.shopList,"expand-trigger":"hover",props:e.fllist},on:{change:e.handleChange},model:{value:e.addForm.fl,callback:function(t){e.$set(e.addForm,"fl",t)},expression:"addForm.fl"}})],1)],1),a("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},e._l(e.cslist,(function(t,l){return a("el-form-item",{key:l,attrs:{label:t.attr_name}},[a("el-checkbox-group",{model:{value:t.attr_vals,callback:function(a){e.$set(t,"attr_vals",a)},expression:"item.attr_vals"}},e._l(t.attr_vals,(function(e,t){return a("el-checkbox",{key:t,attrs:{border:"",label:e}})})),1)],1)})),1),a("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},e._l(e.sxlist,(function(t){return a("el-form-item",{key:t.attr_id,attrs:{label:t.attr_name}},[a("el-input",{model:{value:t.attr_vals,callback:function(a){e.$set(t,"attr_vals",a)},expression:"item.attr_vals"}})],1)})),1),a("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[a("el-upload",{attrs:{action:e.scurl,"list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,headers:e.headersObj,"on-success":e.sctp}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),a("el-tab-pane",{attrs:{label:"商品内容",name:"4"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.tjsp()}}},[e._v("添加商品")])],1)],1)],1)],1)],1)},xe=[],ke={data(){return{activeIndex:"0",dialogImageUrl:"",dialogVisible:!1,headersObj:{authorization:window.sessionStorage.getItem("token")},addForm:{name:"",price:0,weight:0,num:0,fl:[],pics:[]},addFormrules:{name:[{required:!0,message:"请输入商品名称",trigger:["blur","change"]}],price:[{required:!0,message:"请输入商品价格",trigger:["blur","change"]}],weight:[{required:!0,message:"请输入商品重量",trigger:["blur","change"]}],num:[{required:!0,message:"请输入商品数量",trigger:["blur","change"]}],fl:[{required:!0,message:"请输入商品分类",trigger:["blur","change"]}]},shopList:[],cslist:[],sxlist:[],fllist:{children:"children",value:"cat_id",label:"cat_name"},scimg:"http://127.0.0.1:8888/api/private/v1/upload",scurl:"https://www.liulongbin.top:8888/api/private/v1/upload"}},created(){},mounted(){this.list()},methods:{handleRemove(e,t){console.log(e,t);let a={pic:e.response.data.tmp_path},l=this.addForm.pics.findIndex(e=>e.pics===a);this.addForm.pics.splice(l,1),console.log(this.addForm)},handlePictureCardPreview(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},async list(){this.shopList;let{data:e}=await this.$http.get("categories");console.log(e),this.shopList=e.data},handleChange(){3!==this.addForm.fl.length&&(this.addForm.fl=[],this.$message({type:"warning",duration:2e3,message:"只能选择三级商品分类!"})),console.log(this.addForm.fl[2])},beforeTab(e,t){if("0"===t&&3!==this.addForm.fl.length)return this.$message({type:"error",duration:2e3,message:"请先选择商品分类!"}),!1},async tabClicked(){if("1"===this.activeIndex){let{data:e}=await this.$http.get(`categories/${this.cateId}/attributes`,{params:{sel:"many"}});console.log(e),e.data.forEach((e,t)=>{e.attr_vals=0===e.attr_vals.length?[]:e.attr_vals.split(",")}),this.cslist=e.data}else if("2"===this.activeIndex){let{data:e}=await this.$http.get(`categories/${this.cateId}/attributes`,{params:{sel:"only"}});console.log(e),this.sxlist=e.data}},sctp(e){console.log(e);let t={pic:e.data.tmp_path};this.addForm.pics.push(t),console.log(this.addForm)},tjsp(){this.$refs.addFormRef.validate(async e=>{e&&console.log(e)})}},computed:{cateId(){return 3===this.addForm.fl.length?this.addForm.fl[2]:null}}},Fe=ke,Se=(a("b2f0"),Object(n["a"])(Fe,we,xe,!1,null,"4d351a61",null)),Ce=Se.exports;l["default"].use(m["a"]);const $e=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:z},{path:"/list",name:"List",component:N,beforeEnter(e,t,a){window.sessionStorage.getItem("token")?a():(alert("请先登录"),a("/login"))},children:[{path:"users",name:"Users",component:function(){return a.e("about").then(a.bind(null,"cdca"))}},{path:"welcome",name:"welcome",component:R},{path:"rights",name:"Rights",component:function(){return a.e("about").then(a.bind(null,"df51"))}},{path:"roles",name:"Roles",component:function(){return a.e("about").then(a.bind(null,"5e80"))}},{path:"goods",name:"Goods",component:U},{path:"params",name:"Params",component:ee},{path:"categories",name:"Categories",component:oe},{path:"orders",name:"Orders",component:he},{path:"reports",name:"Reports",component:_e},{path:"addgoods",name:"addgoods",component:Ce},{path:"/list",redirect:"/list/welcome"}]},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],je=new m["a"]({routes:$e});var Ie=je,ze=a("9f3a");l["default"].use(ze["a"]);var qe=new ze["a"].Store({state:{islod:!1},mutations:{},actions:{},modules:{}}),Oe=a("3264");a("78fb");l["default"].use(Oe["a"]);var Ee=a("b705"),Pe=a.n(Ee);a("3880");l["default"].use(Pe.a);const Le=C.a.create({baseURL:"https://www.liulongbin.top:8888/api/private/v1/",timeout:"7000"});Le.interceptors.request.use(e=>{const t=sessionStorage.getItem("token");return t&&(e.headers.authorization=t),qe.state.islod=!0,e}),Le.interceptors.response.use(e=>(401==e.data.meta.status&&(window.sessionStorage.removeItem("token"),router.push("/login")),qe.state.islod=!1,e));var Ne=Le;function De(e,t){return Ne.get(e,{params:t})}function Te(e,t){return Ne.post(e,t)}a("a342"),a("35a1");var Be=a("5de2"),Ve=a.n(Be);l["default"].prototype.$Axios=C.a,l["default"].prototype.$http=Ne,l["default"].prototype.$get=De,l["default"].prototype.$post=Te,l["default"].use(Pe.a),l["default"].component("tree-table",Ve.a),l["default"].filter("time",(function(e){return e=new Date(e).toLocaleString(),e.toLocaleDateString(e)})),l["default"].config.productionTip=!1,new l["default"]({router:Ie,store:qe,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var l=a("09aa"),s=a.n(l);s.a},"5e80":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.add=!0}}},[e._v("添加角色")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},e._l(t.row.children,(function(l,s){return a("el-row",{key:s,class:["dbbottom",0===s?"dbtop":""]},[a("el-col",{attrs:{span:5}},[a("el-tag",{attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return e.removeById(t.row,l.id)}}},[e._v(e._s(l.authName))]),a("i",{staticClass:"el-icon-caret-right"})],1),a("el-col",{attrs:{span:19}},e._l(l.children,(function(l,s){return a("el-row",{key:s,class:[0===s?"":"dbtop"]},[a("el-col",{attrs:{span:6}},[a("el-tag",{attrs:{closable:"",type:"success","disable-transitions":!1},on:{close:function(a){return e.removeById(t.row,l.id)}}},[e._v(e._s(l.authName))]),a("i",{staticClass:"el-icon-caret-right"})],1),a("el-col",{attrs:{span:18}},e._l(l.children,(function(l,s){return a("el-tag",{key:s,attrs:{closable:"",type:"warning","disable-transitions":!1},on:{close:function(a){return e.removeById(t.row,l.id)}}},[e._v(e._s(l.authName))])})),1)],1)})),1)],1)})),1)]}}])}),a("el-table-column",{attrs:{type:"index",label:"#",width:"80"}}),a("el-table-column",{attrs:{prop:"roleName",label:"角色名称",width:"400"}}),a("el-table-column",{attrs:{prop:"roleDesc",label:"角色描述",width:"400"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.gai(t.row)}}},[e._v("编辑")]),a("el-button",{staticClass:"btn",attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")]),a("el-button",{staticClass:"btn",attrs:{type:"warning",icon:"el-icon-s-tools"},on:{click:function(a){return e.fen(t.row)}}},[e._v("分配权限")])]}}])})],1),a("el-dialog",{attrs:{title:"添加角色",visible:e.add},on:{"update:visible":function(t){e.add=t}}},[a("el-form",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"角色描述",prop:"ms"}},[a("el-input",{model:{value:e.ruleForm.ms,callback:function(t){e.$set(e.ruleForm,"ms",t)},expression:"ruleForm.ms"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.add=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.tj()}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改角色",visible:e.xg},on:{"update:visible":function(t){e.xg=t}}},[a("el-form",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"xname"}},[a("el-input",{model:{value:e.ruleForm.xname,callback:function(t){e.$set(e.ruleForm,"xname",t)},expression:"ruleForm.xname"}})],1),a("el-form-item",{attrs:{label:"角色描述",prop:"xms"}},[a("el-input",{model:{value:e.ruleForm.xms,callback:function(t){e.$set(e.ruleForm,"xms",t)},expression:"ruleForm.xms"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.xg=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.edit()}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"分配权限",visible:e.fp,width:"30%"},on:{"update:visible":function(t){e.fp=t},close:e.setkeys}},[a("el-tree",{ref:"treefp",attrs:{"default-checked-keys":e.defkeys,"default-expand-all":"","show-checkbox":"","node-key":"id",data:e.rightsList,props:e.treeProps}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.fp=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.fpjs()}}},[e._v("确 定")])],1)],1)],1)],1)},s=[],r={data(){return{tableData:[],rightsList:[],defkeys:[],add:!1,xg:!1,fp:!1,i:"",gb:[],treeProps:{children:"children",label:"authName"},ruleForm:{name:"",ms:"",xname:"",xms:""},rules:{name:[{required:!0,message:"请输入角色名称",trigger:["blur","change"]},{min:2,max:8,message:"角色名称长度在2~8个字符之间",trigger:["blur","change"]}],ms:[{required:!0,message:"请输入角色的描述",trigger:["blur","change"]}],xname:[{required:!0,message:"请输入角色名称",trigger:["blur","change"]},{min:2,max:8,message:"角色名称长度在2~8个字符之间",trigger:["blur","change"]}],xms:[{required:!0,message:"请输入角色的描述",trigger:["blur","change"]}]}}},watch:{add(e){""!=e&&(this.ruleForm={name:"",ms:""}),""==e&&(this.rules={name:[{required:!1,message:"请输入角色名称",trigger:["blur","change"]},{min:2,max:8,message:"角色名称长度在2~8个字符之间",trigger:["blur","change"]}],ms:[{required:!1,message:"请输入角色的描述",trigger:["blur","change"]}]})}},created(){},mounted(){this.table()},methods:{table(){this.$http.get("roles").then(e=>{this.tableData=e.data.data,console.log(e.data.data)})},tj(){this.$http.post("roles",{roleName:this.ruleForm.name,roleDesc:this.ruleForm.ms}).then(e=>{console.log(e),"创建成功"==e.data.meta.msg?(this.$message({type:"success",duration:2e3,message:"创建角色成功"}),this.add=!1,this.table()):(this.$message({type:"info",duration:2e3,message:"取消创建"}),this.add=!1)})},del(e){console.log(e),this.$http.delete("roles/"+e.id).then(t=>{console.log(t),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.tableData.splice(e.id,1),this.$message({type:"success",message:"删除成功!"}),this.table()}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})})},gai(e){this.xg=!0,console.log(e),this.gb=e,this.ruleForm.xname=this.gb.roleName,this.ruleForm.xms=this.gb.roleDesc},edit(){this.$http.put("roles/"+this.gb.id,{roleName:this.ruleForm.xname,roleDesc:this.ruleForm.xms}).then(e=>{console.log(e),this.$message({type:"success",duration:2e3,message:"更新角色成功"}),this.xg=!1,this.table()})},removeById(e,t){console.log(e,t),this.$http.delete(`roles/${e.id}/rights/${t}`).then(t=>{console.log(t),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.tableData.splice(e.id,1),this.$message({type:"success",message:t.data.meta.msg}),this.table()}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})})},fen(e){this.$http.get("rights/tree").then(e=>{console.log(e),this.rightsList=e.data.data}),this.i=e.id,this.leafKeys(e,this.defkeys),this.fp=!0},leafKeys(e,t){if(!e.children)return t.push(e.id);e.children.forEach(e=>{this.leafKeys(e,t)})},async fpjs(){let e=[...this.$refs.treefp.getCheckedKeys(),...this.$refs.treefp.getHalfCheckedKeys()],t=e.join(","),{data:a}=await this.$http.post(`roles/${this.i}/rights`,{rids:t});console.log(a),200!=a.meta.status&&this.$message({type:"success",duration:2e3,message:"权限分配失败"}),this.$message({type:"success",duration:2e3,message:"权限分配成功"}),this.table(),this.fp=!1},setkeys(){this.defkeys=[]}}},o=r,i=(a("6c69"),a("9ca4")),n=Object(i["a"])(o,l,s,!1,null,"6fcdf8a8",null);t["default"]=n.exports},"6c69":function(e,t,a){"use strict";var l=a("da17"),s=a.n(l);s.a},"6f20":function(e,t,a){},"78de":function(e,t,a){},"89e0":function(e,t,a){"use strict";var l=a("bf9f"),s=a.n(l);s.a},"8d86":function(e,t,a){},"996b":function(e,t,a){"use strict";var l=a("d6de"),s=a.n(l);s.a},a342:function(e,t,a){},a92e:function(e,t,a){"use strict";var l=a("b699"),s=a.n(l);s.a},b2f0:function(e,t,a){"use strict";var l=a("eee3"),s=a.n(l);s.a},b699:function(e,t,a){},bf9f:function(e,t,a){},c024:function(e,t,a){},cdca:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"b"},[a("div",{staticClass:"bg"},[a("div",{staticClass:"sou"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.flag,expression:"flag"}],staticClass:"span",on:{click:function(t){return e.qc()}}},[e._v("X")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.sou,expression:"sou"}],staticClass:"input",attrs:{type:"text",placeholder:"请输入内容"},domProps:{value:e.sou},on:{input:[function(t){t.target.composing||(e.sou=t.target.value)},function(t){return e.sr()}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()}}}),a("p",{staticClass:"el-icon-search",on:{click:function(t){return e.search()}}}),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.tj=!0}}},[e._v("添加用户")])],1),a("table",{attrs:{border:"1px",cellpadding:"0",cellspacing:"0",width:"90%",height:"30px"}},[e._m(0),e._l(e.list,(function(t,l){return a("tr",{key:l},[a("td",[e._v(e._s(t.id))]),a("td",[e._v(e._s(t.username))]),a("td",[e._v(e._s(t.email))]),a("td",[e._v(e._s(t.mobile))]),a("td",[e._v(e._s(t.role_name))]),a("td",{on:{click:function(a){return e.qh(t)}}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#DCDFE6"},model:{value:t.mg_state,callback:function(a){e.$set(t,"mg_state",a)},expression:"item.mg_state"}})],1),a("td",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.x(t)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.del(l,t.id)}}}),a("el-tooltip",{attrs:{content:"分配权限",placement:"top"}},[a("el-button",{attrs:{enterable:!1,type:"warning",icon:"el-icon-s-tools"},on:{click:function(a){return e.f(t)}}})],1)],1)])}))],2),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.pagenum,"page-sizes":[1,2,3,4],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"添加用户",visible:e.tj,width:"30%"},on:{"update:visible":function(t){e.tj=t}}},[a("el-form",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[a("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.pwd,callback:function(t){e.$set(e.ruleForm,"pwd",t)},expression:"ruleForm.pwd"}})],1)],1),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1)],1),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.tj=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑用户",visible:e.xg,width:"30%"},on:{"update:visible":function(t){e.xg=t}}},[a("el-form",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"bjname"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.bjname,callback:function(t){e.$set(e.ruleForm,"bjname",t)},expression:"ruleForm.bjname"}})],1)],1),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"邮箱",prop:"bjemail"}},[a("el-input",{model:{value:e.ruleForm.bjemail,callback:function(t){e.$set(e.ruleForm,"bjemail",t)},expression:"ruleForm.bjemail"}})],1)],1),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"电话",prop:"bjphone"}},[a("el-input",{model:{value:e.ruleForm.bjphone,callback:function(t){e.$set(e.ruleForm,"bjphone",t)},expression:"ruleForm.bjphone"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.xg=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.gai()}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"分配角色",visible:e.fp,width:"30%"},on:{"update:visible":function(t){e.fp=t}}},[a("div",{staticClass:"fp"},[a("span",[e._v("当前的用户："),a("span",[e._v(e._s(e.ruleForm.uname))])]),a("span",[e._v("当前的角色："),a("span",[e._v(e._s(e.ruleForm.role))])]),a("el-form",[a("el-form-item",{attrs:{label:"分配新角色："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.xrole,callback:function(t){e.$set(e.ruleForm,"xrole",t)},expression:"ruleForm.xrole"}},[a("el-option",{attrs:{label:e.ruleForm.pu,value:e.ruleForm.pu}}),a("el-option",{attrs:{label:e.ruleForm.cs,value:e.ruleForm.cs}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.fp=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.fpjs()}}},[e._v("确 定")])],1)])],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("#")]),a("th",[e._v("姓名")]),a("th",[e._v("邮箱")]),a("th",[e._v("电话")]),a("th",[e._v("角色")]),a("th",[e._v("状态")]),a("th",[e._v("操作")])])}],r={data(){let e=(e,t,a)=>{let l=/^1[345678]\d{9}$/;return t?l.test(t)?a():a(new Error("请输入正确的手机号")):a(new Error("手机号不能为空"))};return{uname:"",name:"",isCollapse:!0,list:[],pagenum:1,pagesize:2,total:4,sou:"",flag:!1,ruleForm:{name:"",pwd:"",email:"",phone:"",bjname:"",bjemail:"",bjphone:"",xrole:"",uname:"",role:"",pu:"普通用户",cs:"测试",xrole:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:["blur","change"]},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:["blur","change"]}],pwd:[{required:!0,message:"请输入密码",trigger:["blur","change"]},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:["blur","change"]}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:["blur","change"]}],phone:[{required:!0,message:"请输入电话号",trigger:"blur"},{validator:e,trigger:["blur","change"]}],bjname:[{required:!0,message:"请输入新的用户名",trigger:["blur","change"]}],bjemail:[{required:!0,message:"请输入新的邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:["blur","change"]}],bjphone:[{required:!0,message:"请输入新的电话号",trigger:"blur"},{validator:e,trigger:["blur","change"]}]},tj:!1,xg:!1,fp:!1,xlist:[],xfp:[]}},created(){},mounted(){this.name=this.$route.query.name,this.uname=this.$route.query.uname,this.fy()},methods:{handleSizeChange(e){console.log(`每页 ${e} 条`),e=this.pagesize=e,this.fy()},handleCurrentChange(e){e=this.pagenum=e,this.fy()},fy(){let e={pagenum:this.pagenum,pagesize:this.pagesize};this.$http.get(`users?pagenum=${e.pagenum}&pagesize=${e.pagesize}`).then(e=>{console.log(e.data.data),this.list=e.data.data.users,this.total=e.data.data.total})},del(e,t){this.$http.delete("users/"+t).then(t=>{console.log(t),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.list.splice(e,1),this.$message({type:"success",message:"删除成功!"}),this.fy()}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})})},add(){let e={name:this.ruleForm.name,pwd:this.ruleForm.pwd,email:this.ruleForm.email,dh:this.ruleForm.phone};this.$http.post("users",{username:e.name,password:e.pwd,email:e.email,mobile:e.dh}).then(e=>{console.log(e),this.$message({type:"success",duration:2e3,message:"添加成功"}),this.tj=!1,this.fy()})},x(e){this.xg=!0,this.xlist=e,console.log(this.xlist),this.ruleForm.bjname=this.xlist.username,this.ruleForm.bjemail=this.xlist.email,this.ruleForm.bjphone=this.xlist.mobile},gai(){console.log(this.xlist.email),console.log(this.xlist.mobile),this.$http.put("users/"+this.xlist.id,{email:this.ruleForm.bjemail,mobile:this.ruleForm.bjphone}).then(e=>{console.log(e),console.log(e.data.data),this.$message({type:"success",duration:2e3,message:"更新成功"}),this.xg=!1,this.fy()})},fpjs(){console.log(this.xfp.id),this.$http.put(`users/${this.xfp.id}/role`,{rid:1}).then(e=>{console.log(e),this.xfp.role_name=this.ruleForm.xrole,this.$message({type:"success",duration:2e3,message:"更新角色成功"}),this.fp=!1,this.fy()})},f(e){this.fp=!0,this.xfp=e,console.log(this.xfp),this.ruleForm.uname=this.xfp.username,this.ruleForm.role=this.xfp.role_name},search(){let e={pagenum:this.pagenum,pagesize:this.pagesize};this.$http.get(`users?pagenum=${e.pagenum}&pagesize=${e.pagesize}`).then(e=>{console.log(e.data.data);let t=e.data.data.users.filter((e,t)=>-1!=e.username.indexOf(this.sou));console.log(t),this.list=t})},sr(){""!=this.sou?this.flag=!0:this.flag=!1},qc(){this.sou="",this.flag=!1},qh(e){console.log(e.mg_state),this.$http.put("users/"+e.id+"/state/"+e.mg_state).then(e=>{console.log(e),this.$message({type:"success",duration:2e3,message:"修改状态成功"}),this.fy()})}}},o=r,i=(a("d71d"),a("9ca4")),n=Object(i["a"])(o,l,s,!1,null,"1935ec52",null);t["default"]=n.exports},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},d6de:function(e,t,a){},d71d:function(e,t,a){"use strict";var l=a("c024"),s=a.n(l);s.a},d968:function(e,t,a){},da17:function(e,t,a){},df51:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"#",width:"80"}}),a("el-table-column",{attrs:{prop:"authName",label:"权限名称",width:"520"}}),a("el-table-column",{attrs:{prop:"path",label:"路径",width:"520"}}),a("el-table-column",{attrs:{prop:"",label:"权限等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{directives:[{name:"show",rawName:"v-show",value:0==t.row.level,expression:"scope.row.level==0"}],attrs:{size:"mini"}},[e._v(" 一级 ")]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:1==t.row.level,expression:"scope.row.level==1"}],attrs:{type:"success",size:"mini"}},[e._v(" 二级 ")]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:2==t.row.level,expression:"scope.row.level==2"}],attrs:{type:"warning",size:"mini"}},[e._v(" 三级 ")])]}}])})],1)]],2)],1)},s=[],r={data(){return{tableData:[]}},created(){},mounted(){this.qx()},methods:{qx(){this.$http.get("rights/list").then(e=>{console.log(e),this.tableData=e.data.data,console.log(this.tableData)})}}},o=r,i=(a("89e0"),a("9ca4")),n=Object(i["a"])(o,l,s,!1,null,"69d3b515",null);t["default"]=n.exports},e48b:function(e,t,a){e.exports=a.p+"img/155.594f26f3.jpg"},e7d6:function(e,t,a){"use strict";var l=a("d968"),s=a.n(l);s.a},eee3:function(e,t,a){},f312:function(e,t,a){"use strict";var l=a("4ec3"),s=a.n(l);s.a},fe7d:function(e,t,a){"use strict";var l=a("8d86"),s=a.n(l);s.a}});
//# sourceMappingURL=app.97a7edbc.js.map